(window["webpackJsonpgiphy-search"]=window["webpackJsonpgiphy-search"]||[]).push([[0],{159:function(e,t,a){e.exports=a(328)},165:function(e,t,a){},166:function(e,t,a){},172:function(e,t,a){},322:function(e,t,a){},323:function(e,t,a){},324:function(e,t,a){},326:function(e,t,a){},327:function(e,t,a){},328:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(7),o=a.n(i),c=a(11),l=a(44),s=a(19),u=a(66),m=a(67),h=a(71),d=a(18),g=a(29),p=a.n(g),f=a(147),b=a(53),v={APIKey:"YVX8GiqO7VNjCvWf5q7EjeOlHxjd72cB",dataChunkSize:60,gifWidth:200,giphyDomain:"http://api.giphy.com/v1/gifs/search?q=",googleApiKey:"AIzaSyBLbn6bgiUWWw6If8qh73LHEMJjF3hnyBw",googleClientId:"793758825150-cqbrem983f4spuhkubbebdcqiecujg5f.apps.googleusercontent.com"};a(165);var C=function(e){var t,a,n=e.data,i=e.id;return r.a.createElement("div",{className:"img-container",style:{width:v.gifWidth,height:(t=n.width,a=n.height,a*(v.gifWidth/t))}},r.a.createElement("img",{src:n.images.preview_gif.url,alt:"some gif",className:"card-gif","data-id":i,width:0,height:0}))},y=a(366),E=a(379),w=a(368),x=a(369),k=a(372),O=a(371),j=a(373);a(166);var D=function(e){var t=e.open,a=e.onClose,n=e.modalInfo,i=Object(y.a)({card:{maxWidth:500,outline:"none",border:"3px solid #F9F0DA",background:"#F9F0DA"},media:{height:200}})();return r.a.createElement("div",{className:"modal-container"},r.a.createElement(E.a,{className:"modal","aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:t,onClose:a},r.a.createElement(w.a,{className:i.card},r.a.createElement(x.a,null,r.a.createElement(O.a,{component:"img",alt:"Contemplative Reptile",image:n.images.fixed_width_still.url,title:"gif",onClick:function(){window.open(n.source)}}),r.a.createElement(k.a,null,r.a.createElement(j.a,{gutterBottom:!0,variant:"h5",component:"h2"},n.title),r.a.createElement(j.a,{variant:"body1",color:"textPrimary",component:"span"},"Rating: ",n.rating,r.a.createElement("br",null),"Import date: ",n.import_datetime))))))};a(172);function I(){return(I=Object(b.a)(p.a.mark(function e(t){return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t).then(function(e){return e.json()});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var N=function(e){return I.apply(this,arguments)},R=a(150),S=a.n(R),G=a(151),V=a.n(G);a(322);var q=function(e){return r.a.createElement("div",{className:"load-bar"},r.a.createElement("div",{className:"bar"}),r.a.createElement("div",{className:"bar"}),r.a.createElement("div",{className:"bar"}))};a(323);function M(){var e=Object(f.a)(["Sorry we have problems ",""]);return M=function(){return e},e}var P=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={searchData:[],modalInfo:null,isGettingData:!1},a.toggleGettingData=function(){var e=a.state.isGettingData;e?setTimeout(function(){a.setState({isGettingData:!e})},700):a.setState({isGettingData:!e})},a.getData=function(){var e=Object(b.a)(p.a.mark(function e(t){var n,r,i,o,c,l,s,u;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.state.isGettingData,r=a.props,i=r.maxCount,o=r.ratingValue,!n){e.next=4;break}return e.abrupt("return");case 4:return c=i-a.giphyOffset,l=Math.min(v.dataChunkSize,c),s="".concat(v.giphyDomain,".").concat(t,"&api_key=").concat(v.APIKey,"&limit=").concat(l,"&offset=").concat(a.giphyOffset,"&rating=").concat(o),a.toggleGettingData(),e.next=10,N(s).catch(function(e){console.log(M(),e)});case 10:return u=e.sent,a.toggleGettingData(),a.giphyOffset+=l,e.abrupt("return",a.extractData(u.data));case 14:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleClick=function(e){var t=a.state.searchData,n=+e.target.getAttribute("data-id");n&&a.setState({modalInfo:t[n]})},a.handleScroll=function(){var e=Object(b.a)(p.a.mark(function e(t){var n,r,i,o,c;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),n=a.props.searchRequest,r=a.state.searchData,i=t.target,o=document.documentElement.clientHeight,!(i.scrollHeight<=i.scrollTop+o)){e.next=12;break}return e.next=8,a.getData(n);case 8:if(c=e.sent){e.next=11;break}return e.abrupt("return");case 11:a.setState({searchData:[].concat(Object(d.a)(r),Object(d.a)(c))});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.handleModalClose=function(){a.setState({modalInfo:null})},a.giphyOffset=0,a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.searchRequest;t&&this.getData(t).then(function(t){return e.setState({searchData:t})})}},{key:"extractData",value:function(e){return e.map(function(e){var t=e.title,a=e.images,n=e.import_datetime,r=e.source,i=e.images.preview_gif,o=i.width;return{height:i.height,width:o,title:t,images:a,import_datetime:n,source:r,rating:e.rating}})}},{key:"render",value:function(){var e=this.state,t=e.modalInfo,a=e.searchData,n=(e.isContentOver,e.isGettingData);return r.a.createElement(r.a.Fragment,null,n&&r.a.createElement(q,null),r.a.createElement("div",{className:"gif-container",onClick:this.handleClick,onScroll:this.handleScroll},r.a.createElement(V.a,{className:"my-gallery-class",elementType:"ul",options:{transitionDuration:0},disableImagesLoaded:!1,updateOnEachImageLoad:!0,imagesLoadedOptions:{display:"none"}},a.map(function(e,t){return r.a.createElement("li",{key:S()(e)},r.a.createElement(C,{data:e,id:t}))})),!!t&&r.a.createElement(D,{open:!!t,onClose:this.handleModalClose,modalInfo:t})))}}]),t}(r.a.Component);a(324);var F=function(e){var t=e.searchRequest,a=e.maxCount,n=e.ratingValue;return r.a.createElement("main",null,r.a.createElement(P,{searchRequest:t,maxCount:a,ratingValue:n,key:t+n+a}))},L=a(8),T=a(30),W=a(374),A=a(375),_=a(376),B=a(381),H=a(152),Q=a.n(H),z=a(153),J=a.n(z),K=a(378),U=a(380),X=a(377),Y=[10,20,50,100,400,1e3,1/0],Z=[{value:"G"},{value:"PG"},{value:"PG-13"},{value:"R"}],$=Object(y.a)(function(e){return{grow:{flexGrow:1},bar:{background:"#071739"},menuButton:{marginRight:e.spacing(2)},title:Object(c.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(c.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(T.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(T.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(c.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:500}),fullList:{width:"auto",display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",background:"#b9d5fd"},textField:{margin:"8px",borderColor:"white",width:"100px"}}});var ee=function(e){var t=e.maxCount,a=e.handleMaxCountChange,n=e.ratingValue,i=e.handleRatingValueChange,o=e.handleQuerryChange,c=$(),l=r.a.useState({top:!1}),s=Object(L.a)(l,2),u=s[0],m=s[1],h=function(e){return function(t){t.persist(),(!t||"keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&m({top:e})}};return r.a.createElement("div",{className:c.grow},r.a.createElement(W.a,{position:"static",className:c.bar},r.a.createElement(A.a,null,r.a.createElement(_.a,{edge:"start",className:c.menuButton,color:"inherit","aria-label":"open drawer",onClick:h(!0)},r.a.createElement(Q.a,null)),r.a.createElement(K.a,{anchor:"top",open:u.top,onClose:h(!1),onOpen:h(!0)},r.a.createElement("form",{className:c.fullList,noValidate:!0,autoComplete:"off"},r.a.createElement(X.a,{id:"outlined-select-currency",select:!0,label:"Download limit",className:c.textField,value:t,onChange:a,SelectProps:{MenuProps:{className:c.menu}},margin:"normal",variant:"outlined"},Y.map(function(e){return r.a.createElement(U.a,{key:e,value:e},e)})),r.a.createElement(X.a,{id:"outlined-select-currency",select:!0,label:"Rating",className:c.textField,value:n,onChange:i,SelectProps:{MenuProps:{className:c.menu}},margin:"normal",variant:"outlined"},Z.map(function(e){return r.a.createElement(U.a,{key:e.value,value:e.value},e.value)})))),r.a.createElement(j.a,{className:c.title,variant:"h6",noWrap:!0},"QULIX GIPHY"),r.a.createElement("div",{className:c.search},r.a.createElement("div",{className:c.searchIcon},r.a.createElement(J.a,null)),r.a.createElement(B.a,{placeholder:"Search\u2026",classes:{root:c.inputRoot,input:c.inputInput},inputProps:{"aria-label":"search"},onChange:o})))))},te=(a(326),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={searchRequest:"",maxCount:400,ratingValue:"G"},a.handleChange=function(e,t,n){e.persist(),clearTimeout(a[t]),a[t]=setTimeout(function(){a.setState(Object(c.a)({},n,e.target.value))},400)},a.handleQuerryChange=function(e){a.handleChange(e,"querryTimer","searchRequest")},a.handleRatingValueChange=function(e){a.handleChange(e,"ratingTimer","ratingValue")},a.handleMaxCountChange=function(e){a.handleChange(e,"maxCountTimer","maxCount")},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.searchRequest,a=e.maxCount,n=e.ratingValue;return r.a.createElement(r.a.Fragment,null,r.a.createElement(ee,{maxCount:a,ratingValue:n,handleQuerryChange:this.handleQuerryChange,handleMaxCountChange:this.handleMaxCountChange,handleRatingValueChange:this.handleRatingValueChange}),r.a.createElement(F,{searchRequest:t,maxCount:a,ratingValue:n}))}}]),t}(r.a.Component));a(327);o.a.render(r.a.createElement(te,null),document.getElementById("root"))}},[[159,1,2]]]);
//# sourceMappingURL=main.4a323879.chunk.js.map